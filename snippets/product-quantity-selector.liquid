{%- comment -%}
  Product Quantity Selector Snippet
  
  Accepts:
  - variant: {Object} Product variant (optional)
  - min: {Number} Minimum quantity (default: 1)
  - max: {Number} Maximum quantity (optional)
  - input_id: {String} Input ID (optional)
{%- endcomment -%}

{%- liquid
  assign min = min | default: 1
  assign max = variant.inventory_quantity | default: 999
  assign input_id = input_id | default: 'quantity-input'
  assign current_quantity = min
-%}

<div class="product-quantity" data-product-quantity>
  <button
    type="button"
    class="product-quantity__button product-quantity__button--decrease"
    data-quantity-decrease
    aria-label="{{ 'products.product.quantity.decrease' | t | default: 'Decrease quantity' }}"
  >
    <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2 6.5H11" stroke="#191C1F" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
  </button>
  
  <input
    type="number"
    id="{{ input_id }}"
    name="quantity"
    class="product-quantity__input"
    value="{{ current_quantity }}"
    min="{{ min }}"
    {% if max != blank %}max="{{ max }}"{% endif %}
    data-quantity-input
    aria-label="{{ 'products.product.quantity.label' | t | default: 'Quantity' }}"
  >
  
  <button
    type="button"
    class="product-quantity__button product-quantity__button--increase"
    data-quantity-increase
    aria-label="{{ 'products.product.quantity.increase' | t | default: 'Increase quantity' }}"
  >
    <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6.5 2V11M2 6.5H11" stroke="#191C1F" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
  </button>
</div>

{% stylesheet %}
.product-quantity {
  display: flex;
  align-items: center;
  gap: 0;
  background-color: var(--color-white);
  border: 1px solid var(--color-navy);
  border-radius: 2.467px;
  box-shadow: 4px 4px 0px 0px var(--color-navy);
  padding: 13.156px 16.446px;
  width: 134.854px;
}

.product-quantity__button {
  width: 13.156px;
  height: 13.156px;
  border: none;
  background: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text);
  transition: transform var(--transition-fast);
  flex-shrink: 0;
}

.product-quantity__button:hover {
  transform: scale(1.1);
}

.product-quantity__button:active {
  transform: scale(0.95);
}

.product-quantity__button svg {
  width: 100%;
  height: 100%;
  display: block;
}

.product-quantity__input {
  flex: 1;
  border: none;
  background: none;
  padding: 0;
  text-align: center;
  font-family: var(--font-body);
  font-size: 13.156px;
  font-weight: 400;
  line-height: 19.735px;
  color: #475156;
  width: 100%;
  min-width: 0;
  -moz-appearance: textfield;
}

.product-quantity__input::-webkit-outer-spin-button,
.product-quantity__input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.product-quantity__input:focus {
  outline: none;
}

@media screen and (max-width: 768px) {
  .product-quantity {
    width: 120px;
    padding: 10px 12px;
  }
  
  .product-quantity__input {
    font-size: 14px;
  }
}
{% endstylesheet %}


{%- liquid
  assign heading = section.settings.heading | default: 'ABOUT US'
  assign description = section.settings.description
  assign image = section.settings.image
  assign stat_number = section.settings.stat_number | default: '10+'
  assign bg_image = section.settings.background_image
  assign bg_overlay_color = section.settings.background_overlay_color | default: '#000000'
  assign bg_overlay_opacity = section.settings.background_overlay_opacity | default: 0 | divided_by: 100.0
  assign bg_position = section.settings.background_image_position | default: 'center'
  assign bg_size = section.settings.background_image_size | default: 'cover'
-%}

<section 
  class="about-us{% if bg_image != blank %} about-us--has-bg-image{% endif %}" 
  style="
    {%- if bg_image != blank -%}
      --bg-image: url('{{ bg_image | image_url: width: 1920 }}');
      --bg-position: {{ bg_position }};
      --bg-size: {{ bg_size }};
    {%- endif -%}
    --bg-overlay-color: {{ bg_overlay_color }};
    --bg-overlay-opacity: {{ bg_overlay_opacity }};
  "
>
  {%- if bg_image != blank and bg_overlay_opacity > 0 -%}
    <div class="about-us__overlay"></div>
  {%- endif -%}
  <div class="about-us__container">
    <div class="about-us__content">
      <h2 class="about-us__heading">{{ heading }}</h2>
      <div class="about-us__description">
        {%- if description != blank -%}
          {{ description }}
        {%- else -%}
          <p>Reguru leads India's refurbished electronics revolution with certified quality, steep discounts, and total assurance.</p>
          <p>As the nation's sole offline chain, we equip individuals, businesses, schools, and corporates affordably while slashing e-waste</p>
        {%- endif -%}
      </div>
    </div>

    <div class="about-us__visual">
      <div class="about-us__image-wrapper">
        {%- if image != blank -%}
          <img 
            src="{{ image | image_url: width: 600 }}"
            alt="{{ image.alt | default: heading }}"
            width="600"
            height="400"
            loading="lazy"
            class="about-us__image"
          >
        {%- else -%}
          <div class="about-us__placeholder">
            <svg viewBox="0 0 400 280" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="400" height="280" rx="22" fill="#D9D9D9"/>
              <rect x="50" y="40" width="300" height="180" rx="10" fill="#A0A0A0"/>
              <rect x="70" y="60" width="260" height="140" rx="5" fill="#808080"/>
              <circle cx="200" cy="130" r="40" fill="#606060"/>
              <rect x="160" y="230" width="80" height="20" rx="5" fill="#909090"/>
            </svg>
          </div>
        {%- endif -%}
      </div>

      <div class="about-us__stat">
        <span class="about-us__stat-number">{{ stat_number }}</span>
      </div>
    </div>
  </div>
</section>

{% stylesheet %}
.about-us {
  position: relative;
  padding: 80px 0;
}

.about-us--has-bg-image {
  background-image: var(--bg-image);
  background-position: var(--bg-position);
  background-size: var(--bg-size);
  background-repeat: no-repeat;
}

.about-us__overlay {
  position: absolute;
  inset: 0;
  background-color: var(--bg-overlay-color);
  opacity: var(--bg-overlay-opacity);
  z-index: 1;
  pointer-events: none;
}

.about-us__container {
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
  align-items: center;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-padding);
}

.about-us__content {
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.about-us__heading {
  font-family: var(--font-body);
  font-weight: 400;
  font-size: 52px;
  line-height: 1.25;
  letter-spacing: 5px;
  color: #10111A;
  margin: 0;
}

.about-us__description {
  font-family: var(--font-heading);
  font-weight: 400;
  font-size: 30px;
  line-height: 1.4;
  color: var(--color-text);
}

.about-us__description p {
  margin: 0 0 20px;
}

.about-us__description p:last-child {
  margin-bottom: 0;
}

.about-us__visual {
  position: relative;
  display: flex;
  justify-content: flex-end;
}

.about-us__image-wrapper {
  position: relative;
  width: 100%;
  max-width: 450px;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-navy);
  overflow: hidden;
}

.about-us__image {
  width: 100%;
  height: auto;
  display: block;
}

.about-us__placeholder {
  width: 100%;
  background-color: var(--color-gray);
  border-radius: var(--radius-xl);
}

.about-us__placeholder svg {
  width: 100%;
  height: auto;
}

.about-us__stat {
  position: absolute;
  bottom: -20px;
  left: -40px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 180px;
  height: 80px;
  background: linear-gradient(90deg, var(--color-dark-blue) 0%, var(--color-dark-blue) 100%);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-navy);
}

.about-us__stat-number {
  font-family: 'Cera Pro', var(--font-heading), sans-serif;
  font-weight: 500;
  font-size: 64px;
  letter-spacing: -0.64px;
  color: var(--color-white);
}

@media screen and (max-width: 992px) {
  .about-us__container {
    grid-template-columns: 1fr;
    gap: 40px;
  }

  .about-us__heading {
    font-size: 40px;
    letter-spacing: 3px;
  }

  .about-us__description {
    font-size: 22px;
  }

  .about-us__visual {
    justify-content: center;
  }

  .about-us__stat {
    left: auto;
    right: 20px;
    bottom: -10px;
    width: 120px;
    height: 60px;
  }

  .about-us__stat-number {
    font-size: 42px;
  }
}

@media screen and (max-width: 576px) {
  .about-us__heading {
    font-size: 32px;
    letter-spacing: 2px;
  }

  .about-us__description {
    font-size: 18px;
  }
}
{% endstylesheet %}

{% schema %}
{
  "name": "About Us",
  "tag": "section",
  "class": "about-us-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "ABOUT US"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "stat_number",
      "label": "Stat Number",
      "default": "10+"
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "color",
      "id": "background_overlay_color",
      "label": "Overlay Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "background_overlay_opacity",
      "label": "Overlay Opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 0
    },
    {
      "type": "select",
      "id": "background_image_position",
      "label": "Image Position",
      "options": [
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "background_image_size",
      "label": "Image Size",
      "options": [
        {
          "value": "cover",
          "label": "Cover"
        },
        {
          "value": "contain",
          "label": "Contain"
        },
        {
          "value": "auto",
          "label": "Auto"
        }
      ],
      "default": "cover"
    }
  ],
  "presets": [
    {
      "name": "About Us"
    }
  ]
}
{% endschema %}


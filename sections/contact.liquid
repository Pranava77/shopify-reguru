{%- liquid
  assign heading = section.settings.heading | default: 'Ready to Assist You'
  assign description = section.settings.description | default: 'Contact us for any queries or bookings, and experience our prompt, friendly service. Your satisfaction is our priority.'
  assign email = section.settings.email | default: 'reguru@gmail.com'
  assign address_line_1 = section.settings.address_line_1 | default: '2nd floor central complex'
  assign address_line_2 = section.settings.address_line_2 | default: 'sv road near mantri'
  assign address_line_3 = section.settings.address_line_3 | default: 'mall seshadripuram'
  assign address_line_4 = section.settings.address_line_4 | default: 'bengaluru 560020'
  assign logo = section.settings.logo
  assign telephone_image = section.settings.telephone_image
  assign map_image = section.settings.map_image
  assign map_pin_image = section.settings.map_pin_image
  assign bg_image = section.settings.background_image
  assign bg_overlay_color = section.settings.background_overlay_color | default: '#000000'
  assign bg_overlay_opacity = section.settings.background_overlay_opacity | default: 0 | divided_by: 100.0
  assign bg_position = section.settings.background_image_position | default: 'center'
  assign bg_size = section.settings.background_image_size | default: 'cover'
-%}

<section 
  class="contact-section{% if bg_image != blank %} contact-section--has-bg-image{% endif %}" 
  style="
    {%- if bg_image != blank -%}
      --bg-image: url('{{ bg_image | image_url: width: 1920 }}');
      --bg-position: {{ bg_position }};
      --bg-size: {{ bg_size }};
    {%- endif -%}
    --bg-overlay-color: {{ bg_overlay_color }};
    --bg-overlay-opacity: {{ bg_overlay_opacity }};
  "
>
  {%- if bg_image != blank and bg_overlay_opacity > 0 -%}
    <div class="contact-section__overlay"></div>
  {%- endif -%}

  <div class="contact-section__inner">
    <div class="contact-section__content">
      <!-- Left Side: Content and Contact Info -->
      <div class="contact-section__left">
        {%- if logo != blank -%}
          <div class="contact-section__logo">
            <img 
              src="{{ logo | image_url: width: 232 }}"
              alt="{{ shop.name }}"
              width="232"
              height="61"
              loading="lazy"
            >
          </div>
        {%- endif -%}

        <h1 class="contact-section__heading">{{ heading }}</h1>
        
        <p class="contact-section__description">{{ description }}</p>

        {%- if telephone_image != blank -%}
          <div class="contact-section__telephone">
            <img 
              src="{{ telephone_image | image_url: width: 400 }}"
              alt="Telephone illustration"
              width="400"
              height="400"
              loading="lazy"
            >
          </div>
        {%- endif -%}

        <!-- Contact Info Cards -->
        <div class="contact-section__info-cards">
          <!-- Email Card -->
          <div class="contact-section__info-card">
            <p class="contact-section__info-label">EMAIL</p>
            <div class="contact-section__info-content">
              <div class="contact-section__info-icon" style="color: var(--color-dark-blue);">
                <svg width="48" height="36" viewBox="0 0 48 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 4H44C45.1 4 46 4.9 46 6V30C46 31.1 45.1 32 44 32H4C2.9 32 2 31.1 2 30V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M46 6L24 21L2 6" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <a href="mailto:{{ email }}" class="contact-section__info-text">{{ email }}</a>
            </div>
          </div>

          <!-- Headquarters Card -->
          <div class="contact-section__info-card">
            <p class="contact-section__info-label">HEADQUARTERS</p>
            <div class="contact-section__info-content">
              <div class="contact-section__info-icon" style="color: var(--color-dark-blue);">
                <svg width="48" height="42" viewBox="0 0 48 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M24 2C15.72 2 9 8.72 9 17C9 29.5 24 40 24 40C24 40 39 29.5 39 17C39 8.72 32.28 2 24 2Z" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  <circle cx="24" cy="17" r="5" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="contact-section__info-text contact-section__info-text--address">
                <p>{{ address_line_1 }}</p>
                <p>{{ address_line_2 }}</p>
                <p>{{ address_line_3 }}</p>
                <p>{{ address_line_4 }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Side: Map -->
      <div class="contact-section__right">
        <div class="contact-section__map-wrapper">
          {%- if map_image != blank -%}
            <div class="contact-section__map">
              <img 
                src="{{ map_image | image_url: width: 800 }}"
                alt="Location map"
                width="800"
                height="600"
                loading="lazy"
              >
              {%- if map_pin_image != blank -%}
                <div class="contact-section__map-pin">
                  <img 
                    src="{{ map_pin_image | image_url: width: 100 }}"
                    alt="Location pin"
                    width="90"
                    height="76"
                    loading="lazy"
                  >
                </div>
              {%- else -%}
                <div class="contact-section__map-pin">
                  <svg width="90" height="76" viewBox="0 0 90 76" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M45 0C20.147 0 0 20.147 0 45C0 67.5 45 76 45 76C45 76 90 67.5 90 45C90 20.147 69.853 0 45 0Z" fill="var(--color-dark-blue)"/>
                    <circle cx="45" cy="45" r="15" fill="white"/>
                  </svg>
                </div>
              {%- endif -%}
            </div>
          {%- else -%}
            <div class="contact-section__map-placeholder">
              <p>Map will be displayed here</p>
            </div>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</section>

{% stylesheet %}
.contact-section {
  position: relative;
  padding: 80px 0;
  background-color: var(--color-white);
  min-height: 600px;
}

.contact-section--has-bg-image {
  background-image: var(--bg-image);
  background-position: var(--bg-position);
  background-size: var(--bg-size);
  background-repeat: no-repeat;
}

.contact-section__overlay {
  position: absolute;
  inset: 0;
  background-color: var(--bg-overlay-color);
  opacity: var(--bg-overlay-opacity);
  z-index: 0;
  pointer-events: none;
}

.contact-section__inner {
  position: relative;
  z-index: 1;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-padding);
}

.contact-section__content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 102px;
  align-items: start;
}

.contact-section__left {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.contact-section__logo {
  width: 232px;
  height: 61px;
}

.contact-section__logo img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.contact-section__heading {
  font-family: var(--font-heading);
  font-weight: 400;
  font-size: 42px;
  line-height: 1.03;
  color: var(--color-navy);
  margin: 0;
  letter-spacing: -2.1px;
}

.contact-section__description {
  font-family: var(--font-body);
  font-size: 24px;
  line-height: 1.38;
  color: #404366;
  margin: 0;
  letter-spacing: -0.72px;
}

.contact-section__telephone {
  width: 282px;
  height: 398px;
  margin: 18px 0;
  transform: rotate(2.5deg);
}

.contact-section__telephone img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.contact-section__info-cards {
  display: flex;
  flex-direction: column;
  gap: 18px;
  margin-top: 18px;
}

.contact-section__info-card {
  background-color: var(--color-white);
  border: 3px solid var(--color-dark-blue);
  border-radius: 20px;
  padding: 24px 30px;
  box-shadow: 2px 4px 0px 0px #272033;
}

.contact-section__info-label {
  font-family: var(--font-body);
  font-size: 18px;
  font-weight: 400;
  line-height: 13.5px;
  color: var(--color-dark-blue);
  margin: 0 0 18px;
  text-transform: uppercase;
}

.contact-section__info-content {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.contact-section__info-icon {
  flex-shrink: 0;
  width: 48px;
  height: 42px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.contact-section__info-icon svg {
  width: 100%;
  height: 100%;
}

.contact-section__info-icon svg path {
  stroke: var(--color-dark-blue);
}

.contact-section__info-text {
  font-family: var(--font-heading);
  font-size: 29px;
  font-weight: 400;
  line-height: 25.6px;
  color: var(--color-dark-blue);
  text-decoration: underline;
  text-underline-offset: 2px;
  letter-spacing: -0.86px;
  margin: 0;
}

.contact-section__info-text:hover {
  color: var(--color-green);
}

.contact-section__info-text--address {
  font-family: var(--font-body);
  font-size: 14px;
  line-height: 16px;
  text-transform: uppercase;
  text-decoration: none;
  letter-spacing: -0.14px;
  color: var(--color-dark-blue);
}

.contact-section__info-text--address p {
  margin: 0;
}

.contact-section__right {
  position: relative;
}

.contact-section__map-wrapper {
  background-color: #c1cff4;
  border: 3px solid #141019;
  border-radius: 24px;
  padding: 36px;
  box-shadow: 2px 5px 0px 0px #141019;
  overflow: hidden;
  position: relative;
}

.contact-section__map {
  position: relative;
  width: 100%;
  height: 0;
  padding-bottom: 75%;
  overflow: hidden;
  border-radius: 20px;
}

.contact-section__map img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.contact-section__map-pin {
  position: absolute;
  top: 24%;
  left: 44%;
  transform: translate(-50%, -50%);
  width: 90px;
  height: 76px;
  z-index: 2;
}

.contact-section__map-pin img,
.contact-section__map-pin svg {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.contact-section__map-placeholder {
  padding: 100px 20px;
  text-align: center;
  color: #041c66;
  font-family: var(--font-body);
  font-size: 18px;
}

/* Responsive Styles */
@media screen and (max-width: 1200px) {
  .contact-section__content {
    gap: 60px;
  }
}

@media screen and (max-width: 992px) {
  .contact-section {
    padding: 60px 0;
  }

  .contact-section__content {
    grid-template-columns: 1fr;
    gap: 40px;
  }

  .contact-section__heading {
    font-size: 36px;
  }

  .contact-section__description {
    font-size: 20px;
  }

  .contact-section__telephone {
    width: 200px;
    height: 280px;
    margin: 0 auto;
  }
}

@media screen and (max-width: 576px) {
  .contact-section {
    padding: 40px 0;
  }

  .contact-section__content {
    gap: 30px;
  }

  .contact-section__heading {
    font-size: 32px;
  }

  .contact-section__description {
    font-size: 18px;
  }

  .contact-section__info-card {
    padding: 20px;
  }

  .contact-section__info-text {
    font-size: 24px;
  }

  .contact-section__map-wrapper {
    padding: 24px;
  }
}
{% endstylesheet %}

{% schema %}
{
  "name": "Contact",
  "tag": "section",
  "class": "contact-section-wrapper",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Ready to Assist You"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Contact us for any queries or bookings, and experience our prompt, friendly service. Your satisfaction is our priority."
    },
    {
      "type": "header",
      "content": "Contact Information"
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email",
      "default": "reguru@gmail.com"
    },
    {
      "type": "text",
      "id": "address_line_1",
      "label": "Address Line 1",
      "default": "2nd floor central complex"
    },
    {
      "type": "text",
      "id": "address_line_2",
      "label": "Address Line 2",
      "default": "sv road near mantri"
    },
    {
      "type": "text",
      "id": "address_line_3",
      "label": "Address Line 3",
      "default": "mall seshadripuram"
    },
    {
      "type": "text",
      "id": "address_line_4",
      "label": "Address Line 4",
      "default": "bengaluru 560020"
    },
    {
      "type": "textarea",
      "id": "address",
      "label": "Full Address (for reference)",
      "default": "2nd floor central complex sv road near mantri mall seshadripuram bengaluru 560020"
    },
    {
      "type": "header",
      "content": "Images"
    },
    {
      "type": "image_picker",
      "id": "telephone_image",
      "label": "Telephone Illustration",
      "info": "Decorative telephone illustration shown on the left side"
    },
    {
      "type": "image_picker",
      "id": "map_image",
      "label": "Map Image",
      "info": "Map image to display on the right side"
    },
    {
      "type": "image_picker",
      "id": "map_pin_image",
      "label": "Map Pin Icon",
      "info": "Custom map pin icon (optional, will use default SVG if not provided)"
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "color",
      "id": "background_overlay_color",
      "label": "Overlay Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "background_overlay_opacity",
      "label": "Overlay Opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 0
    },
    {
      "type": "select",
      "id": "background_image_position",
      "label": "Image Position",
      "options": [
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "background_image_size",
      "label": "Image Size",
      "options": [
        {
          "value": "cover",
          "label": "Cover"
        },
        {
          "value": "contain",
          "label": "Contain"
        },
        {
          "value": "auto",
          "label": "Auto"
        }
      ],
      "default": "cover"
    }
  ],
  "presets": [
    {
      "name": "Contact"
    }
  ]
}
{% endschema %}


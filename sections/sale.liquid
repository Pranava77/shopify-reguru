{%- liquid
  assign collection_handle = section.settings.collection
  assign collection = collections[collection_handle]
  assign products_to_show = section.settings.products_to_show | default: 12
  assign hero_image = section.settings.hero_image
  assign hero_title = section.settings.hero_title | default: 'Tech Mega Sale'
  assign hero_subtitle = section.settings.hero_subtitle | default: 'Upgrade Your Gear'
  assign hero_description = section.settings.hero_description | default: 'Save up to 40% on premium tech gear'
  assign hero_button_text = section.settings.hero_button_text | default: 'Browse Gadgets'
  assign hero_button_url = section.settings.hero_button_url
-%}

<section class="sale-section" id="sale-{{ section.id }}">
  {%- comment -%} Hero Banner {%- endcomment -%}
  {%- if hero_image != blank or hero_title != blank -%}
    <div class="sale-section__hero">
      <div class="sale-section__hero-container">
        {%- if hero_image != blank -%}
          <div class="sale-section__hero-image">
            <img 
              src="{{ hero_image | image_url: width: 1440 }}"
              alt="{{ hero_title }}"
              width="1440"
              height="411"
              loading="eager"
            >
          </div>
        {%- endif -%}
        <div class="sale-section__hero-content">
          <p class="sale-section__hero-label">{{ 'sections.sale.mega_deals_event' | t | default: 'MEGA DEALS EVENT' }}</p>
          <h1 class="sale-section__hero-title">{{ hero_title }}</h1>
          <h2 class="sale-section__hero-subtitle">{{ hero_subtitle }}</h2>
          <p class="sale-section__hero-description">{{ hero_description }}</p>
          {%- if hero_button_url != blank -%}
            <a href="{{ hero_button_url }}" class="sale-section__hero-button">
              {{ hero_button_text }}
            </a>
          {%- endif -%}
        </div>
      </div>
    </div>
  {%- endif -%}

  {%- comment -%} Main Content Area {%- endcomment -%}
  <div class="sale-section__container">
    <div class="sale-section__layout">
      {%- comment -%} Filter Sidebar {%- endcomment -%}
      <aside class="sale-section__filters" data-sale-filters>
        <div class="sale-section__filters-header">
          <h3 class="sale-section__filters-title">{{ 'sections.sale.filters' | t | default: 'Filters' }}</h3>
          <button type="button" class="sale-section__filters-toggle" data-filters-toggle aria-label="Toggle filters">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        {%- comment -%} Price Filter {%- endcomment -%}
        <div class="sale-section__filter-group">
          <div class="sale-section__filter-header">
            <h4 class="sale-section__filter-title">{{ 'sections.sale.price' | t | default: 'Price' }}</h4>
            <button type="button" class="sale-section__filter-toggle" data-filter-toggle="price" aria-label="Toggle price filter">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="sale-section__filter-content" data-filter-content="price">
            <div class="sale-section__price-inputs">
              <input 
                type="text" 
                class="sale-section__price-input" 
                id="price-min-{{ section.id }}"
                data-price-min
              >
              <span class="sale-section__price-separator">{{ 'sections.sale.to' | t | default: 'To' }}</span>
              <input 
                type="text" 
                class="sale-section__price-input" 
                id="price-max-{{ section.id }}"
                data-price-max
              >
            </div>
            <div class="sale-section__price-slider" data-price-slider>
              <input 
                type="range" 
                class="sale-section__slider sale-section__slider--min" 
                min="0" 
                max="100000" 
                value="0"
                data-slider-min
              >
              <input 
                type="range" 
                class="sale-section__slider sale-section__slider--max" 
                min="0" 
                max="100000" 
                value="100000"
                data-slider-max
              >
            </div>
          </div>
        </div>

        {%- comment -%} Category Filter {%- endcomment -%}
        {%- if section.blocks.size > 0 -%}
          {%- assign category_blocks = section.blocks | where: 'type', 'category' -%}
          {%- if category_blocks.size > 0 -%}
            <div class="sale-section__filter-group">
              <div class="sale-section__filter-header">
                <h4 class="sale-section__filter-title">{{ 'sections.sale.category' | t | default: 'Category' }}</h4>
                <button type="button" class="sale-section__filter-toggle" data-filter-toggle="category" aria-label="Toggle category filter">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <div class="sale-section__filter-content" data-filter-content="category">
                {%- for block in category_blocks -%}
                  <label class="sale-section__filter-checkbox">
                    <input 
                      type="checkbox" 
                      value="{{ block.settings.value | default: block.settings.label | handleize }}"
                      data-filter-category
                      {{ block.shopify_attributes }}
                    >
                    <span class="sale-section__filter-checkbox-label">{{ block.settings.label | default: 'Category' }}</span>
                  </label>
                {%- endfor -%}
              </div>
            </div>
          {%- endif -%}
        {%- endif -%}

        {%- comment -%} Brand Filter {%- endcomment -%}
        {%- if section.blocks.size > 0 -%}
          {%- assign brand_blocks = section.blocks | where: 'type', 'brand' -%}
          {%- if brand_blocks.size > 0 -%}
            <div class="sale-section__filter-group">
              <div class="sale-section__filter-header">
                <h4 class="sale-section__filter-title">{{ 'sections.sale.brand' | t | default: 'Brand' }}</h4>
                <button type="button" class="sale-section__filter-toggle" data-filter-toggle="brand" aria-label="Toggle brand filter">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <div class="sale-section__filter-content" data-filter-content="brand">
                {%- for block in brand_blocks -%}
                  <label class="sale-section__filter-checkbox">
                    <input 
                      type="checkbox" 
                      value="{{ block.settings.value | default: block.settings.label | handleize }}"
                      data-filter-brand
                      {{ block.shopify_attributes }}
                    >
                    <span class="sale-section__filter-checkbox-label">
                      {{ block.settings.label | default: 'Brand' }}
                      {%- if block.settings.count != blank -%}
                        <span class="sale-section__filter-count">({{ block.settings.count }})</span>
                      {%- endif -%}
                    </span>
                  </label>
                {%- endfor -%}
              </div>
            </div>
          {%- endif -%}
        {%- endif -%}
      </aside>

      {%- comment -%} Product Grid {%- endcomment -%}
      <div class="sale-section__products">
        <div class="sale-section__products-grid" data-products-grid>
          {%- if collection != blank and collection.products.size > 0 -%}
            {%- for product in collection.products limit: products_to_show -%}
              {%- render 'product-card', product: product, show_discount: true, show_rating: true -%}
            {%- endfor -%}
          {%- else -%}
            <p class="sale-section__empty">{{ 'sections.sale.no_products' | t | default: 'No products available.' }}</p>
          {%- endif -%}
        </div>
      </div>
    </div>

    {%- comment -%} Join Franchise Button {%- endcomment -%}
    {%- if section.settings.show_franchise_button -%}
      <div class="sale-section__franchise">
        <a href="{{ section.settings.franchise_url | default: '/pages/franchise' }}" class="sale-section__franchise-button">
          {{ section.settings.franchise_text | default: 'Join Franchise' }}
        </a>
      </div>
    {%- endif -%}
  </div>
</section>

{% stylesheet %}
.sale-section {
  padding: 0;
  background-color: var(--color-white);
}

.sale-section__hero {
  position: relative;
  margin-bottom: 40px;
}

.sale-section__hero-container {
  position: relative;
  width: 100%;
  max-width: 1194px;
  margin: 0 auto;
  border-radius: 12px;
  overflow: hidden;
}

.sale-section__hero-image {
  width: 100%;
  height: 411px;
  overflow: hidden;
}

.sale-section__hero-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.sale-section__hero-content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40px;
  text-align: center;
  background: linear-gradient(180deg, rgba(30, 26, 92, 0.8) 0%, rgba(4, 28, 102, 0.6) 100%);
  color: var(--color-white);
}

.sale-section__hero-label {
  font-family: var(--font-mono);
  font-weight: 700;
  font-size: 14px;
  line-height: 1;
  letter-spacing: 0.84px;
  text-transform: uppercase;
  margin: 0 0 16px 0;
  color: var(--color-white);
}

.sale-section__hero-title {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 48px;
  line-height: 1.2;
  margin: 0 0 12px 0;
  color: var(--color-white);
}

.sale-section__hero-subtitle {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 64px;
  line-height: 1.1;
  margin: 0 0 16px 0;
  color: var(--color-blue);
}

.sale-section__hero-description {
  font-family: var(--font-body);
  font-weight: 400;
  font-size: 18px;
  line-height: 1.5;
  margin: 0 0 32px 0;
  color: var(--color-white);
}

.sale-section__hero-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 16px 32px;
  font-family: var(--font-mono);
  font-weight: 700;
  font-size: 16px;
  line-height: 1;
  color: var(--color-black);
  background-color: var(--color-blue);
  border: 2px solid var(--color-black);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-md);
  text-decoration: none;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.sale-section__hero-button:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-lg);
}

.sale-section__hero-button:active {
  transform: translate(2px, 2px);
  box-shadow: var(--shadow-xs);
}

.sale-section__container {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-padding);
}

.sale-section__layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 40px;
  margin-bottom: 40px;
  align-items: start;
}

.sale-section__filters {
  position: sticky;
  top: 100px;
  background-color: var(--color-white);
  height: fit-content;
}

.sale-section__filters-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
}

.sale-section__filters-title {
  font-family: var(--font-heading);
  font-weight: 500;
  font-size: 16px;
  line-height: normal;
  color: var(--color-black);
  margin: 0;
}

.sale-section__filters-toggle {
  display: none;
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  color: #272727;
}

.sale-section__filter-group {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-bottom: 24px;
  border-bottom: 1px solid #e0e0e0;
}

.sale-section__filter-group:last-child {
  border-bottom: none;
}

.sale-section__filter-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

.sale-section__filter-title {
  font-family: var(--font-heading);
  font-weight: 500;
  font-size: 16px;
  line-height: normal;
  color: var(--color-black);
  margin: 0;
}

.sale-section__filter-toggle {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  color: var(--color-black);
  transform: rotate(180deg);
  transition: transform var(--transition-fast);
  flex-shrink: 0;
}

.sale-section__filter-toggle svg {
  width: 16px;
  height: 16px;
  transition: transform var(--transition-fast);
}

.sale-section__filter-toggle[aria-expanded="false"] {
  transform: rotate(0deg);
}

.sale-section__filter-content {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.sale-section__filter-content[hidden] {
  display: none;
}

.sale-section__price-inputs {
  display: flex;
  align-items: center;
  gap: 8px;
}

.sale-section__price-input {
  width: 116px;
  padding: 8px 12px;
  font-family: var(--font-body);
  font-size: 14px;
  border: 1px solid var(--color-black);
  border-radius: 4px;
  background-color: var(--color-white);
}

.sale-section__price-separator {
  font-family: var(--font-body);
  font-size: 14px;
  color: var(--color-black);
}

.sale-section__price-slider {
  position: relative;
  height: 4px;
  background-color: #e0e0e0;
  border-radius: 2px;
  margin-top: 8px;
}

.sale-section__slider {
  position: absolute;
  width: 100%;
  height: 4px;
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  pointer-events: none;
}

.sale-section__slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  background-color: var(--color-blue);
  border: 2px solid var(--color-black);
  border-radius: 50%;
  cursor: pointer;
  pointer-events: all;
  box-shadow: 2px 2px 0px 0px var(--color-black);
}

.sale-section__slider::-moz-range-thumb {
  width: 16px;
  height: 16px;
  background-color: var(--color-blue);
  border: 2px solid var(--color-black);
  border-radius: 50%;
  cursor: pointer;
  pointer-events: all;
  box-shadow: 2px 2px 0px 0px var(--color-black);
}

.sale-section__slider--min {
  z-index: 2;
}

.sale-section__slider--max {
  z-index: 1;
}

.sale-section__filter-checkbox {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

.sale-section__filter-checkbox input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: var(--color-blue);
  border: 1px solid var(--color-black);
}

.sale-section__filter-checkbox-label {
  font-family: var(--font-body);
  font-size: 14px;
  color: var(--color-black);
  display: flex;
  align-items: center;
  gap: 4px;
}

.sale-section__filter-count {
  font-size: 12px;
  color: var(--color-text-secondary);
}

.sale-section__products {
  flex: 1;
}

.sale-section__products-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 18px;
}

.sale-section__empty {
  grid-column: 1 / -1;
  text-align: center;
  padding: 60px 20px;
  font-family: var(--font-body);
  font-size: 18px;
  color: var(--color-text-secondary);
}

.sale-section__franchise {
  display: flex;
  justify-content: center;
  margin-top: 40px;
  padding-bottom: 40px;
}

.sale-section__franchise-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 31px;
  font-family: var(--font-product);
  font-weight: 500;
  font-size: 21px;
  line-height: 29px;
  color: var(--color-black);
  background-color: var(--color-white);
  border: 0.736px solid var(--color-black);
  border-radius: var(--radius-sm);
  box-shadow: 4.417px 4.417px 0px 0px var(--color-black);
  text-decoration: none;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.sale-section__franchise-button:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0px 0px var(--color-black);
}

.sale-section__franchise-button:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0px 0px var(--color-black);
}

@media screen and (max-width: 1200px) {
  .sale-section__layout {
    grid-template-columns: 240px 1fr;
    gap: 32px;
  }

  .sale-section__products-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media screen and (max-width: 992px) {
  .sale-section__layout {
    grid-template-columns: 1fr;
    gap: 24px;
  }

  .sale-section__filters {
    position: relative;
    top: 0;
  }

  .sale-section__filters-toggle {
    display: block;
  }

  .sale-section__filters[data-filters-collapsed="true"] .sale-section__filter-group {
    display: none;
  }

  .sale-section__products-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
  }

  .sale-section__hero-title {
    font-size: 36px;
  }

  .sale-section__hero-subtitle {
    font-size: 48px;
  }
}

@media screen and (max-width: 768px) {
  .sale-section__hero-content {
    padding: 24px;
  }

  .sale-section__hero-title {
    font-size: 28px;
  }

  .sale-section__hero-subtitle {
    font-size: 36px;
  }

  .sale-section__hero-description {
    font-size: 16px;
  }

  .sale-section__hero-button {
    padding: 12px 24px;
    font-size: 14px;
  }

  .sale-section__products-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
  }

  .sale-section__franchise-button {
    padding: 10px 24px;
    font-size: 18px;
  }
}

@media screen and (max-width: 576px) {
  .sale-section__hero-image {
    height: 300px;
  }

  .sale-section__hero-content {
    padding: 20px;
  }

  .sale-section__hero-title {
    font-size: 24px;
  }

  .sale-section__hero-subtitle {
    font-size: 28px;
  }

  .sale-section__products-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .sale-section__franchise-button {
    padding: 10px 20px;
    font-size: 16px;
  }
}
{% endstylesheet %}

{% javascript %}
(function() {
  const saleSection = document.querySelector('[id^="sale-"]');
  if (!saleSection) return;

  // Filter toggle functionality
  const filterToggles = saleSection.querySelectorAll('[data-filter-toggle]');
  for (const toggle of filterToggles) {
    toggle.addEventListener('click', function() {
      const filterType = this.getAttribute('data-filter-toggle');
      const content = saleSection.querySelector(`[data-filter-content="${filterType}"]`);
      if (!content) return;

      const isExpanded = this.getAttribute('aria-expanded') === 'true';
      this.setAttribute('aria-expanded', !isExpanded);
      content.hidden = isExpanded;
    });
  }

  // Mobile filters toggle
  const filtersToggle = saleSection.querySelector('[data-filters-toggle]');
  const filters = saleSection.querySelector('[data-sale-filters]');
  if (filtersToggle && filters) {
    filtersToggle.addEventListener('click', function() {
      const isCollapsed = filters.getAttribute('data-filters-collapsed') === 'true';
      filters.setAttribute('data-filters-collapsed', !isCollapsed);
    });
  }

  // Price range sliders and inputs
  const priceMinInput = saleSection.querySelector('[data-price-min]');
  const priceMaxInput = saleSection.querySelector('[data-price-max]');
  const priceMinSlider = saleSection.querySelector('[data-slider-min]');
  const priceMaxSlider = saleSection.querySelector('[data-slider-max]');
  
  // Format price for display
  function formatPrice(value) {
    return '₹' + parseInt(value).toLocaleString('en-IN');
  }

  // Parse price from display format
  function parsePrice(value) {
    if (typeof value === 'string') {
      return parseInt(value.replace(/[₹,]/g, '')) || 0;
    }
    return parseInt(value) || 0;
  }

  // Update price inputs from sliders
  function updatePriceInputs() {
    if (priceMinSlider && priceMaxSlider && priceMinInput && priceMaxInput) {
      const minValue = parseInt(priceMinSlider.value);
      const maxValue = parseInt(priceMaxSlider.value);
      
      priceMinInput.value = formatPrice(minValue);
      priceMaxInput.value = formatPrice(maxValue);
      
      // Ensure min doesn't exceed max
      if (minValue > maxValue) {
        priceMinSlider.value = maxValue;
        priceMinInput.value = formatPrice(maxValue);
      }
    }
  }

  // Update sliders from inputs
  function updatePriceSliders() {
    if (priceMinInput && priceMaxInput && priceMinSlider && priceMaxSlider) {
      const minValue = parsePrice(priceMinInput.value) || 0;
      const maxValue = parsePrice(priceMaxInput.value) || 100000;
      
      priceMinSlider.value = Math.min(minValue, parseInt(priceMaxSlider.max));
      priceMaxSlider.value = Math.min(maxValue, parseInt(priceMaxSlider.max));
      
      // Ensure min doesn't exceed max
      if (minValue > maxValue) {
        priceMinInput.value = formatPrice(maxValue);
        priceMinSlider.value = maxValue;
      }
    }
  }

  if (priceMinSlider) {
    priceMinSlider.addEventListener('input', () => {
      updatePriceInputs();
    });
  }

  if (priceMaxSlider) {
    priceMaxSlider.addEventListener('input', () => {
      updatePriceInputs();
    });
  }

  if (priceMinInput) {
    priceMinInput.addEventListener('blur', () => {
      updatePriceSliders();
    });
  }

  if (priceMaxInput) {
    priceMaxInput.addEventListener('blur', () => {
      updatePriceSliders();
    });
  }

  // Initialize
  updatePriceInputs();

  // Filter products (basic implementation)
  const categoryCheckboxes = saleSection.querySelectorAll('[data-filter-category]');
  const brandCheckboxes = saleSection.querySelectorAll('[data-filter-brand]');
  const productsGrid = saleSection.querySelector('[data-products-grid]');

  const filterProducts = () => {
    if (!productsGrid) return;

    const selectedCategories = Array.from(categoryCheckboxes)
      .filter(cb => cb.checked)
      .map(cb => cb.value.toLowerCase());

    const selectedBrands = Array.from(brandCheckboxes)
      .filter(cb => cb.checked)
      .map(cb => cb.value.toLowerCase());

    const productCards = productsGrid.querySelectorAll('.product-card');
    
    for (const card of productCards) {
      let show = true;

      // Basic filtering - can be enhanced with actual product data attributes
      if (selectedCategories.length > 0 || selectedBrands.length > 0) {
        // This is a placeholder - in a real implementation, you'd check product data attributes
        // or make an AJAX request to filter products
        show = true;
      }

      card.style.display = show ? '' : 'none';
    }
  };

  for (const checkbox of [...categoryCheckboxes, ...brandCheckboxes]) {
    checkbox.addEventListener('change', filterProducts);
  }
})();
{% endjavascript %}

{% schema %}
{
  "name": "Sale",
  "tag": "section",
  "class": "sale-section",
  "settings": [
    {
      "type": "header",
      "content": "Hero Banner"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Image"
    },
    {
      "type": "text",
      "id": "hero_title",
      "label": "Hero Title",
      "default": "Tech Mega Sale"
    },
    {
      "type": "text",
      "id": "hero_subtitle",
      "label": "Hero Subtitle",
      "default": "Upgrade Your Gear"
    },
    {
      "type": "textarea",
      "id": "hero_description",
      "label": "Hero Description",
      "default": "Save up to 40% on premium tech gear"
    },
    {
      "type": "text",
      "id": "hero_button_text",
      "label": "Button Text",
      "default": "Browse Gadgets"
    },
    {
      "type": "url",
      "id": "hero_button_url",
      "label": "Button URL"
    },
    {
      "type": "header",
      "content": "Products"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection",
      "info": "Products from this collection will be displayed"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "label": "Products to Show",
      "min": 4,
      "max": 24,
      "step": 4,
      "default": 12
    },
    {
      "type": "header",
      "content": "Franchise Button"
    },
    {
      "type": "checkbox",
      "id": "show_franchise_button",
      "label": "Show Franchise Button",
      "default": true
    },
    {
      "type": "text",
      "id": "franchise_text",
      "label": "Button Text",
      "default": "Join Franchise"
    },
    {
      "type": "url",
      "id": "franchise_url",
      "label": "Button URL"
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category Filter",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Category Label",
          "default": "All devices"
        },
        {
          "type": "text",
          "id": "value",
          "label": "Category Value",
          "info": "Optional: Custom value for filtering. If empty, label will be used."
        }
      ]
    },
    {
      "type": "brand",
      "name": "Brand Filter",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Brand Label",
          "default": "Brand"
        },
        {
          "type": "text",
          "id": "value",
          "label": "Brand Value",
          "info": "Optional: Custom value for filtering. If empty, label will be used."
        },
        {
          "type": "text",
          "id": "count",
          "label": "Product Count",
          "info": "Optional: Number of products for this brand (e.g., 56)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Sale",
      "settings": {
        "hero_title": "Tech Mega Sale",
        "hero_subtitle": "Upgrade Your Gear",
        "hero_description": "Save up to 40% on premium tech gear",
        "hero_button_text": "Browse Gadgets",
        "products_to_show": 12,
        "show_franchise_button": true,
        "franchise_text": "Join Franchise"
      },
      "blocks": [
        {
          "type": "category",
          "settings": {
            "label": "All devices"
          }
        },
        {
          "type": "category",
          "settings": {
            "label": "Mobile & Tablets"
          }
        },
        {
          "type": "category",
          "settings": {
            "label": "Laptops"
          }
        },
        {
          "type": "category",
          "settings": {
            "label": "Television"
          }
        },
        {
          "type": "category",
          "settings": {
            "label": "Headphones"
          }
        },
        {
          "type": "brand",
          "settings": {
            "label": "Lenovo",
            "count": "56"
          }
        },
        {
          "type": "brand",
          "settings": {
            "label": "Asus",
            "count": "32"
          }
        },
        {
          "type": "brand",
          "settings": {
            "label": "HP",
            "count": "185"
          }
        },
        {
          "type": "brand",
          "settings": {
            "label": "Macbook",
            "count": "75"
          }
        }
      ]
    }
  ]
}
{% endschema %}

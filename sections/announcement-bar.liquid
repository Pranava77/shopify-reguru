{%- comment -%}
  Announcement Bar Section
  Displays a promotional message at the top of the page
{%- endcomment -%}

{%- liquid
  assign text = section.settings.text | default: 'Welcome To ReGuru'
  assign text_color = section.settings.text_color | default: '#28D98E'
  assign bg_color = section.settings.background_color | default: '#1E1A5C'
  assign link = section.settings.link
-%}

<div class="announcement-bar" style="--announcement-bg: {{ bg_color }}; --announcement-text: {{ text_color }};">
  <div class="announcement-bar__inner">
    {%- if link != blank -%}
      <a href="{{ link }}" class="announcement-bar__link">
        <p class="announcement-bar__text">{{ text }}</p>
      </a>
    {%- else -%}
      <p class="announcement-bar__text">{{ text }}</p>
    {%- endif -%}
  </div>
</div>

{% stylesheet %}
.announcement-bar {
  width: 100%;
  height: 43px;
  background-color: var(--announcement-bg);
  display: flex;
  align-items: center;
  justify-content: center;
}

.announcement-bar__inner {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-padding);
  text-align: center;
}

.announcement-bar__link {
  display: block;
  text-decoration: none;
}

.announcement-bar__text {
  font-family: var(--font-body);
  font-weight: 600;
  font-size: 16px;
  line-height: 14px;
  color: var(--announcement-text);
  margin: 0;
}

.announcement-bar__link:hover .announcement-bar__text {
  text-decoration: underline;
}

@media screen and (max-width: 576px) {
  .announcement-bar {
    height: auto;
    padding: 10px 0;
  }

  .announcement-bar__text {
    font-size: 14px;
  }
}
{% endstylesheet %}

{% schema %}
{
  "name": "Announcement Bar",
  "tag": "section",
  "class": "announcement-bar-section",
  "settings": [
    {
      "type": "text",
      "id": "text",
      "label": "Announcement text",
      "default": "Welcome To ReGuru"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#28D98E"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#1E1A5C"
    }
  ],
  "presets": [
    {
      "name": "Announcement Bar"
    }
  ]
}
{% endschema %}
